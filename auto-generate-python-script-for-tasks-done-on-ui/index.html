<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>Auto-generate python script for tasks done on UI</title>

	<meta name="HandheldFriendly" content="True" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<link rel="stylesheet" type="text/css" href="../assets/css/dependencies.css?v=d475539eeb" />
	<link rel="stylesheet" type="text/css" href="../assets/css/style.css?v=d475539eeb" />

	<link rel="canonical" href="index.html" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="amp/index.html" />
    
    <meta property="og:site_name" content="Servers | Containers | Management" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Auto-generate python script for tasks done on UI" />
    <meta property="og:description" content="Welcome the convert_to_ucs_python API. Assumption: User knows to do an operation via the JAVA based UCSM GUI  UCSM UI and convert_to_ucs_python should be launched on the same client machine. Basic Idea: launch the JAVA based UCSM UI launch the python shell and invoke convert_" />
    <meta property="og:url" content="http://localhost:2368/auto-generate-python-script-for-tasks-done-on-ui/" />
    <meta property="article:published_time" content="2016-11-07T23:22:28.000Z" />
    <meta property="article:modified_time" content="2016-11-07T23:22:28.000Z" />
    <meta property="article:tag" content="ucsmsdk" />
    <meta property="article:tag" content="ucspython" />
    
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Auto-generate python script for tasks done on UI" />
    <meta name="twitter:description" content="Welcome the convert_to_ucs_python API. Assumption: User knows to do an operation via the JAVA based UCSM GUI  UCSM UI and convert_to_ucs_python should be launched on the same client machine. Basic Idea: launch the JAVA based UCSM UI launch the python shell and invoke convert_" />
    <meta name="twitter:url" content="http://localhost:2368/auto-generate-python-script-for-tasks-done-on-ui/" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="vvb" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="ucsmsdk, ucspython" />
    <meta name="twitter:site" content="@vvb__" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Servers | Containers | Management",
        "logo": "http://localhost:2368/ghost/img/ghosticon.jpg"
    },
    "author": {
        "@type": "Person",
        "name": "vvb",
        "url": "http://localhost:2368/author/vvb/",
        "sameAs": []
    },
    "headline": "Auto-generate python script for tasks done on UI",
    "url": "http://localhost:2368/auto-generate-python-script-for-tasks-done-on-ui/",
    "datePublished": "2016-11-07T23:22:28.000Z",
    "dateModified": "2016-11-07T23:22:28.000Z",
    "keywords": "ucsmsdk, ucspython",
    "description": "Welcome the convert_to_ucs_python API. Assumption: User knows to do an operation via the JAVA based UCSM GUI  UCSM UI and convert_to_ucs_python should be launched on the same client machine. Basic Idea: launch the JAVA based UCSM UI launch the python shell and invoke convert_",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:2368"
    }
}
    </script>

    <meta name="generator" content="Ghost 0.11" />
    <link rel="alternate" type="application/rss+xml" title="Servers | Containers | Management" href="../rss/index.html" />
    <script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6134465745215709",
    enable_page_level_ads: true
  });
</script>
</head>

<body class="post-template tag-ucsmsdk tag-ucspython">
	<section id="wrapper">
		<div id="ajax-container">
			<nav id="nav" class="nav">
				<div class="inner">
					<a id="menu-button" title="Navigation">
	<span class="menu-button-bar menu-button-bar-1"></span>
	<span class="menu-button-bar menu-button-bar-2"></span>
	<span class="menu-button-bar menu-button-bar-3"></span>
</a>
<div id="menu">
	<ul class="menu-list">
		<li class="menu-list-item">
			<a class="home" href="../index.html">Home</a>
		</li>
		<li class="menu-list-item icon">
			<a class="twitter" href="https://twitter.com/vvb__" title="@vvb__"><i class="icon-twitter"></i></a>
			<a class="rss" href="../rss/index.html" title="Feed"><i class="icon-rss"></i></a>
		</li>
	</ul>
</div>
				</div>
			</nav>			
			

<main class="content" role="main">
	<article class="post tag-ucsmsdk tag-ucspython">

			<div id="push">

			<header class="post-header">
				<div class="inner">
					<span class="post-meta">
						<span class="post-author"><a href="../author/vvb/index.html">vvb</a></span> | <span class="post-date">08 Nov 2016 <span class="post-reading-time">| <span class="estimated-reading-time"></span> (<span class="word-count"></span> words)</span></span>
					</span>
					<div class="clear"></div>
					<h1 class="post-title">Auto-generate python script for tasks done on UI</h1>
				</div>
			</header>
		
			<div class="inner">
				<section class="post-content">
					<p>Welcome the <code>convert_to_ucs_python</code> API.</p>

<p>Assumption:</p>

<p>User knows to do an operation via the JAVA based UCSM GUI <br />
UCSM UI and <code>convert_to_ucs_python</code> should be launched on the same client machine.</p>

<p>Basic Idea:</p>

<ul>
<li>launch the JAVA based UCSM UI</li>
<li>launch the python shell and invoke <code>convert_to_ucs_python</code></li>
<li>perform the desired operation on the UI</li>
<li><code>convert_to_ucs_python</code> monitors the operation and generates equivalent python script for the same.</li>
</ul>

<p>How it works:</p>

<p>UCSM GUI logs all the activities that are performed via it, and the python shell monitors that log to generate the equivalent python script. Since the logging is local to the machine where the UI is running, <code>convert_to_ucs_python</code> also must run on the same machine. <br />
Sample Usage:</p>

<p>Step 1 - Launch the UCSM GUI.</p>

<pre><code>from ucsmsdk.utils.ucsguilaunch import ucs_gui_launch  
from ucsmsdk.ucshandle import UcsHandle

# Login to the server
handle = UcsHandle(&lt;ip&gt;, &lt;username&gt;, &lt;password&gt;)  
handle.login()

# launch the UCSM GUI
ucs_gui_launch(handle)  
</code></pre>

<p>Step 2 - Run <code>convert_to_ucs_python</code></p>

<p>The CLI will go into a listen mode until Ctrl+C is pressed again. Until then it prints equivalent script for operations done on the UI.</p>

<p>Print the equivalent script to console</p>

<pre><code>from ucsmsdk.utils.converttopython import convert_to_ucs_python

convert_to_ucs_python()  
</code></pre>

<p><br />
Print the equivalent script to console, also print the XMLs that the UI sends out</p>

<pre><code>from ucsmsdk.utils.converttopython import convert_to_ucs_python

convert_to_ucs_python(dump_xml=True)  
</code></pre>

<p>Output the script to a file</p>

<pre><code>from ucsmsdk.utils.converttopython import convert_to_ucs_python

file_path = r”/home/user/pythoncode.py”

convert_to_ucs_python(dump_to_file=True, dump_file_path=file_path)  
</code></pre>

<p>XML to python</p>

<pre><code>xml_str=’‘’&lt;configConfRename  
                dn=”org-root/ls-ra1” 
                inNewName=”ra2” 
                inHierarchical=”false”&gt; 
                &lt;/configConfRename&gt;’‘’

convert_to_ucs_python(xml=True, request=xml_str)  
</code></pre>

<p>note:</p>

<p>The path of UCSM UI logs is differs based on the OS and so sometimes the <code>convert_to_ucs_python</code> API may not be able to autodetect the logfiles that it needs to function. The following workaround can be applied in those cases,</p>

<p>Manually find the path to which UCSM UI logs</p>

<pre><code>$ sudo find / -name '.ucsm' 
./Library/Application Support/Oracle/Java/Deployment/log/.ucsm 
$
</code></pre>

<p>Run <code>convert_to_ucs_python</code> by specifying the log_path</p>

<pre><code>from ucsmsdk.utils.converttopython import convert_to_ucs_python

convert_to_ucs_python(gui_log=True, path=&lt;path that was found above&gt;)  
</code></pre>
				</section>
				
				<footer class="post-footer">
					<div class="post-tags">
						<a href="../tag/ucsmsdk/index.html">ucsmsdk</a> <a href="../tag/ucspython/index.html">ucspython</a>
					</div>
					<div class="post-share">
						<a class="icon-twitter" href="https://twitter.com/share?text=Auto-generate python script for tasks done on UI&url=http://localhost:2368/auto-generate-python-script-for-tasks-done-on-ui/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
							<span>Twitter</span>
						</a>
						<a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:2368/auto-generate-python-script-for-tasks-done-on-ui/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
							<span>Facebook</span>
						</a>
						<a class="icon-googleplus" href="https://plus.google.com/share?url=http://localhost:2368/auto-generate-python-script-for-tasks-done-on-ui/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
							<span>Google+</span>
						</a>
					</div>
				</footer>
				
				<aside class="post-comments">
					<div id="disqus_thread"></div>
				</aside>
				
				</div>
			</div>

			<nav class="post-nav">
					<a class="post-nav-item post-nav-next" href="../python-and-ctags/index.html" title="Python and Ctags">
						<span class="post-nav-post">
							<span class="post-nav-icon">
								<i class="icon-arrow-left"></i>
							</span>
							<h4 class="post-nav-title">Python and Ctags</h4>
							<p class="post-nav-excerpt">You want to jump to definition of a method, but ctags keep taking you to the import line of&hellip;</p>
						</span>
					</a>
					<a class="post-nav-item post-nav-prev" href="../watch-for-ucs-server-events-ucsmsdk/index.html" title="watch for ucs server events - ucsmsdk">
						<span class="post-nav-post">
							<span class="post-nav-icon">
								<i class="icon-arrow-right"></i>
							</span>
							<h4 class="post-nav-title">watch for ucs server events - ucsmsdk</h4>
							<p class="post-nav-excerpt">Starting 0.9.1.1 we have simplified the code required to wait for an event. The below code&hellip;</p>
						</span>
					</a>
				<div class="clear"></div>
			</nav>
	</article>
</main>

			<div id="body-class" style="display: none;" class="post-template tag-ucsmsdk tag-ucspython"></div>
			<footer id="footer">
				<div class="inner">
					<section class="credits">
						<span class="credits-theme">Theme <a href="https://github.com/zutrinken/austere" target="_blank" rel="nofollow">Austere</a> by <a href="http://zutrinken.com" target="_blank" rel="nofollow">zutrinken</a></span>
						<span class="credits-software">Published with <a href="http://ghost.org" target="_blank" rel="nofollow">Ghost</a></span>
					</section>
				</div>
			</footer>
		</div>
	</section>
	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-78616097-1', 'auto');
  ga('send', 'pageview');

</script>
	
	<script type="text/javascript" src="../assets/js/dependencies.js?v=d475539eeb"></script>
	<script type="text/javascript" src="../assets/js/script.js?v=d475539eeb"></script>
</body>
</html>