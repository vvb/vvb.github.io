
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Auto-generate python script for tasks done on UI — Servers | Containers | Management | Software</title>

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="../assets/css/main.css?v=6925571274">

<!-- For speed, I’ve added the response from this link straight into defer.css-->
<!--<link rel="stylesheet" href="//brick.a.ssl.fastly.net/Source+Serif+Pro:400,700/Source+Sans+Pro:400,900,400i,900i/Alegreya:400i,700i">-->

    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <link rel="canonical" href="http://blog.vijayvikrant.com/auto-generate-python-script-for-tasks-done-on-ui/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="http://blog.vijayvikrant.com/auto-generate-python-script-for-tasks-done-on-ui/amp/">
    
    <meta property="og:site_name" content="Servers | Containers | Management | Software">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Auto-generate python script for tasks done on UI">
    <meta property="og:description" content="Welcome the convert_to_ucs_python API. Assumption: User knows to do an operation via the JAVA based UCSM GUI UCSM UI and convert_to_ucs_python should be launched on the same client machine. Basic Idea: launch the JAVA based UCSM UI launch the python shell and invoke convert_">
    <meta property="og:url" content="http://blog.vijayvikrant.com/auto-generate-python-script-for-tasks-done-on-ui/">
    <meta property="article:published_time" content="2016-11-07T23:22:28.000Z">
    <meta property="article:modified_time" content="2016-11-07T23:22:28.000Z">
    <meta property="article:tag" content="ucsmsdk">
    <meta property="article:tag" content="ucspython">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Auto-generate python script for tasks done on UI">
    <meta name="twitter:description" content="Welcome the convert_to_ucs_python API. Assumption: User knows to do an operation via the JAVA based UCSM GUI UCSM UI and convert_to_ucs_python should be launched on the same client machine. Basic Idea: launch the JAVA based UCSM UI launch the python shell and invoke convert_">
    <meta name="twitter:url" content="http://blog.vijayvikrant.com/auto-generate-python-script-for-tasks-done-on-ui/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Vikrant Balyan">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="ucsmsdk, ucspython">
    <meta name="twitter:site" content="@vvb__">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Servers | Containers | Management | Software",
        "logo": {
            "@type": "ImageObject",
            "url": "http://blog.vijayvikrant.com/favicon.ico",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Vikrant Balyan",
        "url": "http://blog.vijayvikrant.com/author/vikrant/",
        "sameAs": []
    },
    "headline": "Auto-generate python script for tasks done on UI",
    "url": "http://blog.vijayvikrant.com/auto-generate-python-script-for-tasks-done-on-ui/",
    "datePublished": "2016-11-07T23:22:28.000Z",
    "dateModified": "2016-11-07T23:22:28.000Z",
    "keywords": "ucsmsdk, ucspython",
    "description": "Welcome the convert_to_ucs_python API. Assumption: User knows to do an operation via the JAVA based UCSM GUI UCSM UI and convert_to_ucs_python should be launched on the same client machine. Basic Idea: launch the JAVA based UCSM UI launch the python shell and invoke convert_",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://blog.vijayvikrant.com/"
    }
}
    </script>

    <meta name="generator" content="Ghost 2.6">
    <link rel="alternate" type="application/rss+xml" title="Servers | Containers | Management | Software" href="http://blog.vijayvikrant.com/rss/">
    <script async src="http://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-6134465745215709",
    enable_page_level_ads: true
  });
</script>
</head>
<body class="post-template tag-ucsmsdk tag-ucspython" id="body">

    

<div class="main-header--content main-nav--content clearfix">
  <a href="http://blog.vijayvikrant.com">
    <h3><span class="back-arrow">← </span>Servers | Containers | Management | Software</h3>
  </a>
</div>

<main class="content">

    <article class="post tag-ucsmsdk tag-ucspython">

        <header class="post-header">
            <h1 class="post-title typl8-gamma">Auto-generate python script for tasks done on UI</h1>
            <section class="post-meta">
                By <a href="../author/vikrant/">Vikrant Balyan</a>
                <time class="post-date" datetime="2016-11-08"> Nov 8th 2016</time>
                <span class="post-tags">Tags: <a href="../tag/ucsmsdk/">ucsmsdk</a>, <a href="../tag/ucspython/">ucspython</a></span>
            </section>
        </header>

        <section class="post-content">
            <p>Welcome the <code>convert_to_ucs_python</code> API.</p>
<p>Assumption:</p>
<p>User knows to do an operation via the JAVA based UCSM GUI<br>
UCSM UI and <code>convert_to_ucs_python</code> should be launched on the same client machine.</p>
<p>Basic Idea:</p>
<ul>
<li>launch the JAVA based UCSM UI</li>
<li>launch the python shell and invoke <code>convert_to_ucs_python</code></li>
<li>perform the desired operation on the UI</li>
<li><code>convert_to_ucs_python</code> monitors the operation and generates equivalent python script for the same.</li>
</ul>
<p>How it works:</p>
<p>UCSM GUI logs all the activities that are performed via it, and the python shell monitors that log to generate the equivalent python script. Since the logging is local to the machine where the UI is running, <code>convert_to_ucs_python</code> also must run on the same machine.<br>
Sample Usage:</p>
<p>Step 1 - Launch the UCSM GUI.</p>
<pre><code>from ucsmsdk.utils.ucsguilaunch import ucs_gui_launch  
from ucsmsdk.ucshandle import UcsHandle

# Login to the server
handle = UcsHandle(&lt;ip&gt;, &lt;username&gt;, &lt;password&gt;)  
handle.login()

# launch the UCSM GUI
ucs_gui_launch(handle)  
</code></pre>
<p>Step 2 - Run <code>convert_to_ucs_python</code></p>
<p>The CLI will go into a listen mode until Ctrl+C is pressed again. Until then it prints equivalent script for operations done on the UI.</p>
<p>Print the equivalent script to console</p>
<pre><code>from ucsmsdk.utils.converttopython import convert_to_ucs_python

convert_to_ucs_python()
</code></pre>
<p>Print the equivalent script to console, also print the XMLs that the UI sends out</p>
<pre><code>from ucsmsdk.utils.converttopython import convert_to_ucs_python

convert_to_ucs_python(dump_xml=True)  
</code></pre>
<p>Output the script to a file</p>
<pre><code>from ucsmsdk.utils.converttopython import convert_to_ucs_python

file_path = r”/home/user/pythoncode.py”

convert_to_ucs_python(dump_to_file=True, dump_file_path=file_path)  
</code></pre>
<p>XML to python</p>
<pre><code>xml_str=’‘’&lt;configConfRename  
                dn=”org-root/ls-ra1” 
                inNewName=”ra2” 
                inHierarchical=”false”&gt; 
                &lt;/configConfRename&gt;’‘’

convert_to_ucs_python(xml=True, request=xml_str)  
</code></pre>
<p>note:</p>
<p>The path of UCSM UI logs is differs based on the OS and so sometimes the <code>convert_to_ucs_python</code> API may not be able to autodetect the logfiles that it needs to function. The following workaround can be applied in those cases,</p>
<p>Manually find the path to which UCSM UI logs</p>
<pre><code>$ sudo find / -name '.ucsm' 
./Library/Application Support/Oracle/Java/Deployment/log/.ucsm 
$
</code></pre>
<p>Run <code>convert_to_ucs_python</code> by specifying the log_path</p>
<pre><code>from ucsmsdk.utils.converttopython import convert_to_ucs_python

convert_to_ucs_python(gui_log=True, path=&lt;path that was found above&gt;)  
</code></pre>

        </section>

        <footer class="post-footer">



            <section class="author">
                <h4><a href="../author/vikrant/">Vikrant Balyan</a></h4>

                    <p>Read <a href="../author/vikrant/">more posts</a> by this author.</p>
                <div class="author-meta">
                    
                    
                    
                    
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/share?text=Auto-generate%20python%20script%20for%20tasks%20done%20on%20UI&amp;url=http://blog.vijayvikrant.com/auto-generate-python-script-for-tasks-done-on-ui/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.vijayvikrant.com/auto-generate-python-script-for-tasks-done-on-ui/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://blog.vijayvikrant.com/auto-generate-python-script-for-tasks-done-on-ui/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>
    <!--
    If you want Disqus comments, uncomment this. Make sure to set your disqus shortname in partials/comments.hbs first!
     -->
    </article>
</main>


    <footer class="site-footer">
      <a class="subscribe icon-feed" href="http://blog.vijayvikrant.com/rss/">
       <span class="tooltip">Subscribe!</span>
      </a>
<!--  Uncomment if you want a copy of your navigation in the footer. It’s pretty cool, and gives your visitors something to do when they finish an article other than commenting, sharing, or closing the tab.    -->
      <nav>
        <ul class="nav">
    <li class="nav-home" role="presentation">
      <a href="http://blog.vijayvikrant.com">Home</a>
    </li>
      <li class="nav-https://twitter.com/vvb__" role="presentation">
        <a href="https://twitter.com/vvb__"><span class="icon-twitter"></span></a>
      </li>
</ul>

      </nav>
      <div>
        <span class="print-data copyright-notice">
          © 2018
          <a href="http://blog.vijayvikrant.com/">Servers | Containers | Management | Software</a>
           • 
        </span>

        <span>

          <a href="http://github.com/curiositry/mnml-ghost-theme">mnml</a>
          theme by
          <a href="http://curiositry.github.io">Curiositry</a>
        </span>

        <span>
          • 
         Proudly published with
          <a href="https://ghost.org"><span class="icon-ghost typl8-zeta"></span><span class="hidden">Ghost</span></a>             </span>
      </div>
    </footer>

    <!--
    This generates a handsome modal menu and hamburger icon. If you want to use it, edit     menu.hbs and add your links (line ~146), then remove the ! from this helper to           activate it.
    -->
      <!--
THE MENU: Enabling this partial creates a hamburger icon that opens a menu. It’s responsive, lightweight, and works with javascript disabled.
-->


<!-- Trigger element, which is hidden -->
<input type="checkbox" id="menu-trigger">

<!-- Thus label which control the trigger. The hamburger icon is a background image in      the CSS (base64 encoded svg) in main.css. Hover and close states in defer.css-->
<label for="menu-trigger" id="open-menu" class="open-menu btn"></label>

<!-- The menu that slides in. Styles in defer.css -->
<nav class="menu" id="menu">
  <ul class="nav">
    <li class="nav-home" role="presentation">
      <a href="http://blog.vijayvikrant.com">Home</a>
    </li>
      <li class="nav-https://twitter.com/vvb__" role="presentation">
        <a href="https://twitter.com/vvb__"><span class="icon-twitter"></span></a>
      </li>
</ul>

</nav>

<!--
This makes the rest of the page move down with the menu for style points, but is              optional. The menu works fine with pure css.
-->
<script>
  var navTrigger = document.getElementById("menu-trigger");
  var menu = document.getElementById("menu");
  var bodyTag = document.getElementsByTagName("body")[0];


navTrigger.onclick = function () {
  if(navTrigger.checked){
    bodyTag.classList.add("menu-transition");
    document.getElementsByTagName("body")[0].style.marginTop = menu.clientHeight+"px";
  }else{
    bodyTag.classList.add("menu-transition");
    document.getElementsByTagName("body")[0].style.marginTop = "0";
  }
}
</script>


    <!-- Ghost outputs important scripts and data with this tag -->
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-78616097-1', 'auto');
  ga('send', 'pageview');

</script>

    <!--
    This loads katex.hbs in; if a page has anything with the class .math, katex.hbs           loads Khan Academy’s Tex math typesetting library and runs it on the content.

    If you don’t want to use KaTeX, comment this out.
    -->
    <script type="text/javascript">
var mathAreas = document.getElementsByClassName("math");
if (mathAreas){
  var ss = document.createElement("link");
  ss.type = "text/css";
  ss.rel = "stylesheet";
  ss.href = "//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.css";
  document.getElementsByTagName("head")[0].appendChild(ss);

  var script = document.createElement( 'script' );
  script.type = 'text/javascript';
  script.src = '//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.6.0/katex.min.js';
  document.body.appendChild(script);

  window.onload = function() {
    Array.prototype.forEach.call(
      document.getElementsByClassName("math"),
      function(el) {
        try {
          katex.render(el.innerHTML, el, { displayMode: true });
        } catch (e) { console.log(e); }
      }
    );
  }
}
</script>

    <script>
      var cb = function() {
        var l = document.createElement('link'); l.rel = 'stylesheet';
        l.href = '/assets/css/defer.css?v=6925571274';
        var h = document.getElementsByTagName('head')[0];
        h.parentNode.insertBefore(l, h);
      };
      var raf = requestAnimationFrame || mozRequestAnimationFrame ||
          webkitRequestAnimationFrame || msRequestAnimationFrame;
      if (raf) raf(cb);
      else window.addEventListener('load', cb);
    </script>

    <script async src="../assets/js/index.js?v=6925571274"></script>
    <script defer src="../assets/js/prism.min.js?v=6925571274"></script>

</body>
